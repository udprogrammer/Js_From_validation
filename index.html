<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <fieldset>
      <legend>
        <h1>FORM</h1>
      </legend>

      <input type="text" id="name" placeholder="Enter Your Name" />
      <input type="number" id="age" placeholder="Enter Your Age" />
      <input
        type="text"
        id="adress"
        placeholder="Enter Your Adresss"
        required
      />
      <input type="text" id="job" placeholder="Enter Your Job" />
      <input
        type="number"
        id="mobilenumber"
        placeholder="Enter Your Mobile Number"
      />
      <input type="text" id="Country" placeholder="Enter Your Country Name" />
      <button type="submit" onclick="myfun()">Submit</button>
      <p id="errors" style="color: red"></p>
      <a href="login.html">login here</a>
    </fieldset>

    <hr />
    <button onclick="mydetails()">Show Details</button>
    <p id="user-name"></p>
    <p id="user-age"></p>
    <p id="user-mobile"></p>
  </body>
  <script>
    function myfun() {
      let name = document.getElementById("name").value;
      let age = document.getElementById("age").value;
      let adress = document.getElementById("adress").value;
      let job = document.getElementById("job").value;
      let mobilenumber = document.getElementById("mobilenumber").value;
      let Country = document.getElementById("Country").value;
      try {
        if (
          name &&
          age > 17 &&
          adress &&
          job &&
          mobilenumber &&
          mobilenumber.length === 10 &&
          Country
        ) {
          alert("Form Submitted !!");
          const userDetails = {
            user: name,
            age,
            adress,
            job,
            mobilenumber,
            Country,
          };
          localStorage.setItem("user", JSON.stringify(userDetails));
        } else {
          throw "please fill this form";
        }
      } catch (error) {
        document.getElementById("errors").innerHTML = error;
      }
    }

    function mydetails() {
      let userdata = JSON.parse(localStorage.getItem("user"));
      document.getElementById("user-name").innerHTML =
        "Name : " + userdata.user ?? "Something went to wrong";
      document.getElementById("user-age").innerHTML =
        "Age : " + userdata.age ?? "Something went to wrong";
      document.getElementById("user-mobile").innerHTML =
        "Mobile Number : " + userdata.mobilenumber ?? "Something went to wrong";
    }
  </script>
</html>
